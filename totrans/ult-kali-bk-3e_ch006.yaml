- en: 5 Exploring Open Source Intelligence
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Join our book community on Discord
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[https://packt.link/SecNet](https://packt.link/SecNet)![Qr code Description
    automatically generated](../media/file136.png)Just a couple of decades ago, the
    internet was not readily available to many people and organizations around the
    world due to many constraints. However, as technologies continue to evolve and
    Internet Service Providers (ISPs) work continuously to expand their network infrastructure
    to ensure everyone is able to connect and access the internet, there are more
    users on the internet today than ever and the numbers are continuing to increase
    as many people and organizations are using the internet for their personal gain
    and business, such as education, marketing, digitally connecting with others,
    e-commerce and the list can go on and on. This means, people are continuously
    creating and uploading data in various founds on many platforms on the internet,
    hence information is easily available to anyone on the internet. Sometimes, people
    and even employees of an organization share too much sensitive information on
    the internet without realizing how adversaries can collect and analyze the data
    to create intelligence which can be used to plan a cyber-attack on an organization.In
    this chapter, you will explore how ethical hackers and penetration testers collect
    and analyze **Open Source Intelligence** (**OSINT**) found on online data sources
    to create a profile and better understand their targets before proceeding to develop
    or acquire an exploit to compromise targeted systems and networks. You will learn
    how to use Google hacking techniques to filter search results to identify any
    unintentionally exposed assets, systems and resources of a targeted organization.
    In addition, you will gain the hands-on skills used by threat actors to perform
    passive reconnaissance on a targeted domain and identify sub-domains of an organization.
    Furthermore, you will explore various internet search engines which are commonly
    used by penetration testers to identify the technical infrastructure of a company
    and how hackers are able to collect employees’ data to plan and improve their
    operations.In this chapter, we will cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Google hacking techniques
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Domain reconnaissance
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sub-domain harvesting
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Identifying organizational infrastructure
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Harvesting employees’ data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Social media reconnaissance
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let’s dive in!
  prefs: []
  type: TYPE_NORMAL
- en: Technical Requirements
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To follow along with the exercises in this chapter, please ensure that you
    have met the following hardware and software requirements:'
  prefs: []
  type: TYPE_NORMAL
- en: Kali Linux - [https://www.kali.org/get-kali/](https://www.kali.org/get-kali/)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DNSmap - [https://github.com/resurrecting-open-source-projects/dnsmap](https://github.com/resurrecting-open-source-projects/dnsmap)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sublist3r - [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sherlock - [https://github.com/sherlock-project/Sherlock](https://github.com/sherlock-project/Sherlock)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Google hacking techniques
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The concept of Google hacking, sometimes referred to as *Google dorking*, is
    not the process of hacking into Google's network infrastructure or systems, but
    rather leveraging the advanced search parameters within the Google search engine
    to filter specific results. Many organizations don't always pay close attention
    to which systems and resources they are exposing on the internet. Google Search
    is a very powerful search platform that crawls/indexes everything on the internet
    and filters most malicious websites. Since Google indexes everything, the search
    engine can automatically discover hidden online directories, resources, and login
    portals of many organizations.
  prefs: []
  type: TYPE_NORMAL
- en: Using Google hacking techniques is not illegal but there's a very fine line
    that you shouldn't cross; otherwise, you'll be in legal trouble. We can use Google
    hacking techniques to discover hidden and sensitive directories and web portals
    on the internet, but if you use such information with malicious intentions to
    perform a cyber-attack, then you can face legal actions.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'To get started with learning about Google hacking, let''s take a look at the
    following scenarios:'
  prefs: []
  type: TYPE_NORMAL
- en: Imagine you are required to use passive reconnaissance techniques to identify
    domains and sub-domains of a targeted organization. A common technique is to use
    Google Search to discover public-facing assets of the target.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To do this, use the `site:domain-name` syntax, to filter all results for the
    specified domain as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file137.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, Google Search returned only the results
    that contained the targeted domain name only.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you want to filter the search results based on a specific keyword for a
    targeted domain name, use the `keyword site:domain-name` syntax, as shown below:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../media/file138.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, the `eternalblue site:microsoft.com` syntax
    enables us to filter the search results to display all Microsoft’s domains and
    URLs which contains the ‘`eternalblue`’ keyword. This is useful when performing
    research for security vulnerabilities and exploits on a targeted system based
    on the application, operating system and vendor of the device.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you want to find all the domains of a targeted organization and filter the
    results based on 2 keywords, use the `keyword1 AND keyword2 site: domain-name`
    syntax, as shown below:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../media/file139.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, using the `AND` operator with carefully
    chosen keywords helps us to find login portals of a targeted domain.
  prefs: []
  type: TYPE_NORMAL
- en: You can use the `OR` syntax to specify keywords compared to using AND to include
    both keywords.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'If you’re interested in search for specific file types on a targeted domain,
    use the `site:domain-name filetype:file type` syntax, as shown below:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../media/file140.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, including the `filetype:` syntax helps
    us to filter the search results to display any files that are either intentionally
    or unintentionally leaked by the targeted organization.
  prefs: []
  type: TYPE_NORMAL
- en: 'To discover specific directories that contains sensitive keywords on their
    title pages, use the `site:domain-name intitle:keyword` syntax, as shown below:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../media/file141.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, using the `login` keyword as the `intitle:`
    parameter is useful for displaying login portals of the targeted domain.
  prefs: []
  type: TYPE_NORMAL
- en: 'To find sub-domains of a targeted organization, use the `site:domain-name -www`
    syntax to exclude the `www` parameter, as shown below:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](../media/file142.png)'
  prefs: []
  type: TYPE_IMG
- en: Using this technique is a good way to remove specific sub-domains and URLs from
    your search results.
  prefs: []
  type: TYPE_NORMAL
- en: In additional, you can use the `site:*.domain.com -site:www.domain.com` syntax
    to find sub-domains of the targeted organization.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Furthermore, if you''re not too sure how to use the advanced search operators
    on the Google search engine, you can simply head on over to the Google home page
    and click on **Settings** > **Advanced search** to open the **Advanced search
    menu**, as shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file143.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Google provides a very easy and simple method to enable users to perform advanced
    searching and filtering, without having to know the advanced search operators,
    as shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file144.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once you''ve filled in the necessary details and clicked on the **Advanced
    Search** button, Google will automatically insert the appropriate search operations
    needed to perform advanced searches.While there are so many possibilities when
    using advanced Google search operators, it can be a bit overwhelming. **Google
    Hacking Database** (**GHDB**) is maintained by the creators of Kali Linux, **Offensive
    Security** ([https://www.offsec.com/](https://www.offsec.com/)), and can be found
    at [https://www.exploit-db.com/google-hacking-database](https://www.exploit-db.com/google-hacking-database).
    GHDB is a website that contains a list of various Google dorks (advanced search
    operators), which are used to find very sensitive information and resources on
    the internet using Google Search:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file145.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, GHDB is regularly updated with new search
    syntax to help users discover vulnerable services and sensitive directories. A
    word of caution, though – please be very mindful and careful when lurking around
    using Google hacking techniques. Do not use the information you find for malicious
    purposes or to cause harm to a system or network.Having completed this section,
    you have learned how ethical hackers and penetration testers can leverage the
    power of Google Search to discover hidden directories and resources. In the next
    section, you will learn how to discover exposed assets owned by organizations.
  prefs: []
  type: TYPE_NORMAL
- en: Domain reconnaissance
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Collecting information about a target-owned domain helps cyber criminals, ethical
    hackers and penetration testers to identify whether the targeted organization
    has any exposed systems and network infrastructure which can be leveraged when
    planning a future attack. In addition, domain reconnaissance helps ethical hackers
    and penetration testers to determine the external attack surface of an organization,
    which is, identifying all the internet-facing systems, their operating systems,
    open ports and running services with the intention of discovering security vulnerabilities
    which can be exploited by real attackers. This helps ethical hackers to determine
    whether their targets are unintentionally exposing vulnerable systems, services
    and applications on the internet, and how a threat actor can leverage the information
    to perform a cyber-attack.
  prefs: []
  type: TYPE_NORMAL
- en: Collecting WHOIS data
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'What if you can access a database which contains the records of registered
    domains on the internet? Many domain registrars allow the general public to view
    publicly available information about registered domains. This information can
    be found on various WHOIS databases on the internet.The following is a list of
    various types of information which can be collected from WHOIS databases:'
  prefs: []
  type: TYPE_NORMAL
- en: Registrant contact information
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Administrative contact information
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical contact information
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Name servers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Important dates, such as registration, update, and expiration dates
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Registry domain ID
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Registrar information
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Accessing a WHOIS database is quite simple: you can use your favorite internet
    search engine to find various WHOIS databases, such as the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[https://who.is/](https://who.is/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://www.whois.com/](https://www.whois.com/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://lookup.icann.org/](https://lookup.icann.org/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://whois.domaintools.com/](https://whois.domaintools.com/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Within Kali Linux, you will being a pre-installed WHOIS tool which enables
    penetration testers to perform a WHOIS lookup directly on the Terminal. To perform
    a WHOIS lookup on a targeted domain, open the Terminal on Kali Linux and execute
    the `whois <domain-name>` commands to begin a search, as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file146.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, the WHOIS tool was able to retrieve publicly
    available information about the targeted domain by simply asking a trusted online
    source. Keep in mind that, as the need for online privacy increases around the
    world, domain owners are paying a premium fee to ensure their contact and personal
    information is not revealed by WHOIS databases to the general public. This means
    that you will not commonly find personal contact information for domains that
    are no longer being revealed on WHOIS databases if the domain owner pays the premium
    for additional privacy features.However, do not pass this tool aside as there
    are still many organizations around the world which does not always value online
    privacy. Due to the lack of security awareness and negligence of many people and
    organizations, threat actors and penetration testers can exploit this vulnerability
    to collect OSINT on their targets.
  prefs: []
  type: TYPE_NORMAL
- en: Performing DNS enumeration
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Domain Name System** (**DNS**) is an application-layer protocol that enables
    a system such as a computer to resolve a hostname to an IP address. While there
    are so many devices on a network, especially on the internet, remembering the
    IP addresses of web servers can be quite challenging. Using DNS, a system administrator
    can configure each device with both an IP address and a hostname. Using a hostname
    is a lot easier to remember, such as `www.packtpub.com` or `www.google.com`. However,
    do you know the IP addresses of the servers that are hosting these websites for
    Packt and Google? You probably don''t, and that''s okay because on the internet,
    there is a hierarchy of DNS servers that contain the records of public hostnames
    and their IP addresses. These are known as root DNS servers.A DNS server is like
    a traditional telephone directory, with a list of people and their telephone numbers.
    On a DNS server, you can find records of the hostnames of servers and devices,
    as well as their associated IP addresses. Many popular internet companies, such
    as Cisco, Google, Cloudflare, and others, have set up many public DNS servers
    around the internet which contains the records of almost every public domain name
    on the internet.To get a better understanding on how a client device such as a
    computer uses DNS to resolve a domain name, let’s take a look at the following
    scenario:'
  prefs: []
  type: TYPE_NORMAL
- en: Imagine you want to view the webpage on `www.example.com` on your computer,
    so you decide to open the web browser and enter `www.example.com` within the address
    bar and hit enter to connect to the web server.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Your computer will check the local DNS cache to determine whether the IP address
    of `www.example.com` is known already due to a previous connection. If the IP
    address of `www.example.com` is found within the local cache, the computer will
    establish a connection to the destination server.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'If the IP address is not found within the local DNS cache of the client, the
    client sends a **DNS Query** message to the DNS server, requesting the IP address
    of the hostname (`www.example.com`), as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file147.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The DNS server will check its records and respond to the client with a non-authoritative
    **DNS Reply** message, providing the client with the IP address of the hostname,
    as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file148.png)'
  prefs: []
  type: TYPE_IMG
- en: If the DNS server does not have the requested records for the hostname, it performs
    a recursive DNS lookup to retrieve the DNS records either from other DNS servers
    on the internet or the root DNS server. When the client receives the IP address
    from the DNS Reply from the DNS server, the client stores the IP address to hostname
    mapping within the local DNS cache for future reference.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'The client uses the IP address from **DNS Reply** to connect to `www.example.com`
    on the internet, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file149.png)'
  prefs: []
  type: TYPE_IMG
- en: 'There are many public DNS servers on the internet; some are created by threat
    actors with malicious intentions, such as redirecting unaware users to malicious
    websites for social engineering purposes. As a result, I recommend using a trusted
    DNS providers on all of your networking devices, security appliances, servers
    and computers to improve your organization’s online safety. The following are
    some popular DNS servers on the internet:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Cloudflare: [https://1.1.1.1/](https://1.1.1.1/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Quad 9: [https://www.quad9.net/](https://www.quad9.net/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Cisco OpenDNS: [https://www.opendns.com/](https://www.opendns.com/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Google Public DNS: [https://developers.google.com/speed/public-dns](https://developers.google.com/speed/public-dns)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Additionally, DNS servers not only resolve a hostname to IP address – they
    also contain various types of records with information about a domain, such as
    the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '`A`: This record maps a hostname to an IPv4 address.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`AAAA` – Used to map a hostname to an IPv6 address.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`NS` – Used for specifying the name servers for a domain.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`MX` – Specifies the mail exchange or email servers for the domain.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`PTR` – This record maps a hostname to an IPv4 or IPv6 address.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`CNAME` – Used to specify an alias for another record.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`RP` – This report contains the responsible person for the domain.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SOA` – This record specifies the authority for the domain.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SRV` – This record contains the service records such as port numbers for specific
    services on the domain.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`TXT` – This record allows the domain owner to specify a text record. Commonly
    used for verification of ownership for a domain.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You''re probably wondering, what does learning about DNS have to do with passive
    reconnaissance and OSINT as a penetration tester? As an aspiring penetration tester,
    DNS enumeration is the technique of probing specific DNS records for a targeted
    domain to retrieve information about an organization’s internet-facing assets
    and identify any security vulnerabilities that can assist in planning a cyber-attack.
    Performing DNS enumeration is simply requesting the DNS records of a targeted
    domain from a public DNS server on the internet. Then, analyzing the collected
    information to create intelligence and better understand how an adversary can
    leverage the intelligence to compromise the targeted organization.Within Kali
    Linux, you will find many DNS analysis tools to help ethical hackers and penetration
    testers to efficiently collect and analyze DNS records of a targeted domain. While
    the preference of using such type of tool is usually depend upon the personal
    choice of the penetration tester, I strongly urge you to try all the available
    tools to better understanding on which ones work best for you. To get started
    with using **DNSrecon** for DNS enumeration, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Power-on the **Kali Linux** virtual machine and log-in.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, open the **Terminal** and use the following commands to retrieve the
    DNS records for a targeted domain:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshot shows DNSrecon was able to retrieve the public DNS
    records for the Microsoft.com domain from Cloudflare’s public DNS server:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file150.png)'
  prefs: []
  type: TYPE_IMG
- en: Using the `-d` syntax enables you to specify the targeted domain, the `-n` syntax
    enables you to specify a name server to query,
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: As shown in the preceding screenshot, DNSrecon was able to retrieve various
    DNS records for the targeted domain, such as the A, NS, MX and SOA records. An
    ethical hacker and penetration tester can leverage the information collected to
    identity the public IP address of additional assets owned by the target.
  prefs: []
  type: TYPE_NORMAL
- en: 'In addition, DNSrecon was able to enumerate the SRV records of the targeted
    domain, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file151.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, the end of each line indicates the open
    port number for each service. Identifying open ports helps penetration testers
    to determine running services and points of entry into a targeted system.
  prefs: []
  type: TYPE_NORMAL
- en: To learn more about DNSrecon and its additional features, use the `dnsrecon
    -h` and `man dnsrecon` commands on Kali Linux.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Having completed this exercise, you have learnt how to enumerate DNS records
    from public DNS servers for a targeted domain. Next, you will learn how to exploit
    a vulnerable DNS server to extract sensitive DNS records.
  prefs: []
  type: TYPE_NORMAL
- en: Exploiting DNS zone transfer
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: DNS zone transfer allows the zone records from one DNS server to be copied from
    a master DNS server onto another DNS server over a network For instance, from
    a primary DNS server to a secondary DNS server for redundancy. Sometimes, an IT
    professional may forget to secure their DNS server and implement security controls
    to prevent the zone records from being copied to unauthorized DNS servers. If
    a threat actor were to successfully perform a DNS zone transfer on a targeted
    organization, the adversary will be able to retrieve both public and private DNS
    records which helps the attacker to identify critical systems on the internal
    network of the target.In another scenario, the targeted organization may not separate
    their internal and external namespaces from each other on their DNS servers for
    the company. This type of misconfiguration on DNS servers can lead to a future
    DNS zone transfer attack. While nowadays, it’s less likely to discover a target’s
    DNS server with this security vulnerability, it’s still important for both ethical
    hackers and penetration testers understand how adversaries are able to discover
    and exploit this security flaw.However, as security training is applied to almost
    every field within IT courses and certifications, the upcoming generation of IT
    professionals are usually made aware of this security flaw to ensure their systems
    and networks are always secure. Hence, the possibility of a poorly configured
    DNS server may be almost non-existent since, as an aspiring penetration tester,
    you should leave no stone unturned and always test for everything within your
    scope of a penetration test on your target.
  prefs: []
  type: TYPE_NORMAL
- en: The awesome folks at **Digi Ninja** ([https://digi.ninja/](https://digi.ninja/))
    setup an amazing environment to better understand how to test for DNS zone transfer
    vulnerabilities. In addition, they have made their online platform free to the
    public so anyone can learn more about this security vulnerabilities of misconfigured
    DNS servers.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'To get started with this exercise, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Power-on your **Kali Linux** virtual machine and login.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Open the **Terminal** and use the `host` command to retrieve the DNS records
    of `zonetransfer.me`, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file152.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, various DNS records were retrieved, such
    as the `A` and `MX` records.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, let’s attempt to retrieve the `NS` records for the targeted domain, use
    the `host -t ns zonetransfer.me` commands, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file153.png)'
  prefs: []
  type: TYPE_IMG
- en: 'As shown in the preceding screenshot, the targeted domain has 2 name servers,
    these are: `nsztm1.digi.ninja` and `nsztm2.digi.ninja`. We can proceed to check
    each of these name servers to determine whether they are misconfigured for unauthorized
    zone transfer.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, let’s query the `nsztm1.digi.ninja` Name Server to identify whether it’s
    vulnerable to DNS zone transfer and retrieve the zone records, use the following
    command:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshots all the DNS records that were obtained from the `nsztm1.digi.ninja`
    Name Server for the targeted domain:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file154.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, there are many interesting hostnames,
    and their corresponding IP addresses were retrieved. These hostnames may not be
    intentionally exposed to the internet by the targeted organization but as a result
    of poorly configured DNS server settings, they were.
  prefs: []
  type: TYPE_NORMAL
- en: Be sure to query all the Name Servers for a given domain – sometimes, one server
    may be misconfigured even though the others are secured.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Next, to automate the DNS analysis and perform DNS zone transfer on a targeted
    domain, use the **DNSenum** tool with the following commands:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'The DNSenum tool will attempt to retrieve all DNS records for the targeted
    domain and will attempt to perform DNS zone transfer using all the Name Servers
    that are found. In the following screenshot shows DNSenum was able to retrieve
    the zone records for the targeted domain:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file155.png)'
  prefs: []
  type: TYPE_IMG
- en: 'DNSEnum was able to retrieve additional zone records, as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file156.png)'
  prefs: []
  type: TYPE_IMG
- en: As you can imagine, the collected information can be leverage by both adversaries
    and ethical hackers to discover additional assets that are owned by the targeted
    organization, identify their hostnames and IP addresses.Having completed this
    exercise, you have learnt how to perform DNS enumeration and zone transfer as
    an ethical hacker and penetration tester. Next, you will learn how to automate
    the collection of OSINT using Spiderfoot.
  prefs: []
  type: TYPE_NORMAL
- en: Automation using Spiderfoot
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Spiderfoot** is a very popular OSINT tool that helps ethical hackers, penetration
    testers and cybersecurity researchers to automate their processes and workloads
    when gathering intelligence about their targets. This tool provides excellent
    visualization of the all data it has gathered in the form of graphs and tables,
    which helps you easily read and interpret the data that''s been collected.To get
    started with Spiderfoot, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Power-on the **Kali Linux** virtual machine and ensure it has an active internet
    connection.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, open the **Terminal** and use the following commands to launch the Spiderfoot
    web interface:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshot shows the execution of the preceding commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file157.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, the `-l` syntax specifies the IP address
    and port number for the Spiderfoot web interface. Where, `0.0.0.0` specifies all
    interfaces and `1234` is the open port for incoming connections to Spiderfoot
    web interface.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, open the web browser within Kali Linux and go to `http://127.0.0.1:1234/`
    to access the Spiderfoot web interface, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file158.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, to automate the OSINT data collection and analysis, click on **New Scan**
    > set a **Scan Name** with a **Scan Target** and use the **Passive** option, then
    click on **Run Scan Now** as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file159.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Spiderfoot begins to collect and analyze data from multiple data sources on
    the internet about the targeted organization or domain, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file160.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select the **Graph** tab to view how each data point is interconnected to the
    target domain, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file161.png)'
  prefs: []
  type: TYPE_IMG
- en: Clicking a data point shown in the preceding screenshot reveals with a domain
    name, sub-domain, hostname, email address or URL that’s associated to the target.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to view the data that was collected based on categories, click on **Browse**,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file162.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, click within the **Internet Name** category to see the data that was
    collected, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file163.png)'
  prefs: []
  type: TYPE_IMG
- en: As you can imagine, Spiderfoot can dig deeper until it gathers all the data
    about a targeted domain, inclusive of DNS information, and format the data into
    information and convert it into intelligence that can be leverage by ethical hackers
    and penetration testers.Having completed this section, you have gained the hands-on
    experience and skills to perform domain and DNS reconnaissance. In the next section,
    you will learn how to discover sub-domains using OSINT techniques.
  prefs: []
  type: TYPE_NORMAL
- en: Sub-domain harvesting
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Every day, search engines such as Bing, Google, and Yahoo frequently learn and
    index new and existing websites to improve their search results. If a person searches
    for a company's website, you’re likely to discover the primary domain, such as
    `example.com`. A lot of organizations create sub-domains for various reasons,
    but as an aspiring ethical hacker and penetration tester, discovering all the
    possible sub-domains of a targeted organization can lead to finding sensitive
    locations and resources, such as login portals and unintentionally exposed corporate
    directories, which may contain confidential files and resources.
  prefs: []
  type: TYPE_NORMAL
- en: Enumeration with DNSmap
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**DNSmap** works a bit differently from the tools we looked at in the previous
    sections. DNSmap attempts to enumerate the sub-domains of a targeted parent domain
    by querying a built-in wordlist within Kali Linux. Once a sub-domain is found,
    DNSmap will also attempt to resolve the IP address automatically.To get started
    using DNSmap, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Power-on the **Kali Linux** virtual machine and ensure it has internet connectivity.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, open the **Terminal** and use the following commands to install the latest
    version of DNSmap on Kali Linux:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, use the following commands to automate the discovery of sub-domains for
    a target using DNSmap:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshot shows DNSmap is identifying the sub-domains of a targeted
    organization and is resolving each hostname/sub-domain to an IP address:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file164.png)'
  prefs: []
  type: TYPE_IMG
- en: As a penetration tester, discovering the sub-domains of your target can lead
    to finding vulnerable web applications and even systems. Furthermore, such information
    can be used to build a better profile of your target. Next, you will learn how
    to use another popular tool that leverages OSINT to gather the sub-domains of
    a targeted organization.
  prefs: []
  type: TYPE_NORMAL
- en: Sub-domain discovery with Sublist3r
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'You can leverage the power of search engines for discovering sub-domains by
    using the **Sublist3r** tool. Sublist3r is a Python-based tool that is used to
    enumerate (extract/obtain) the sub-domains of a targeted public domain using OSINT
    techniques and data sources, such as search engines and other internet indexing
    platforms.To get started using Sublist3r, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, power-on the **Kali Linux** virtual machine and ensure it has internet
    connectivity.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, open the **Terminal** and use the following commands to download the
    **Sublist3r** setup files from a working branch of the application:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: The packages from the official GitHub repository for Sublist3r is no longer
    working at the time of writing, therefore we’ll use a known working branch from
    [https://github.com/aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r).
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Next, use the following commands to change the present working directory to
    the Sublist3r folder and install the requirements for the tool:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, use the following commands to perform sub-domain discovery on a targeted
    domain:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshot shows the sub-domain discovery process with Sublist3r:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file165.png)'
  prefs: []
  type: TYPE_IMG
- en: The `-o` syntax enables Sublist3r to create an output file with the results
    and store it in a custom location. For instance, appending the `-o /home/kali/Desktop/subdomains.txt`
    command at the end will create the output on the Desktop of Kali Linux.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Using the information that was found regarding sub-domains, penetration testers
    will need to check these sub-domains to determine where they lead, such as to
    a vulnerable web application or even a login portal for employees or customers.Having
    completed this section, you have learned how to efficiently discover the sub-domains
    of a targeted organization. In the next section, you will learn how to use OSINT
    to identify the technical infrastructure of an organization.
  prefs: []
  type: TYPE_NORMAL
- en: Identifying organizational infrastructure
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: While many organizations think their network infrastructure is hidden behind
    their public IP address and that threat actors are unable to determine their internal
    infrastructure, threat actors uses various OSINT techniques and tools to identify
    the systems and applications that are running within a targeted organization.Over
    the next sub-sections, you will learn how organizations are leaking technical
    details about their internal network and how it can be leveraged by threat actors
    to improve their cyber-attack.
  prefs: []
  type: TYPE_NORMAL
- en: Data leakage on job websites
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Over the years, I’ve noticed many organizations leak a lot of data about their
    internal infrastructure and systems which can help adversaries to improve their
    plan of attack and identify security vulnerabilities within an organization by
    simply analyzing public information. For instance, a recruiter usually post a
    vacancy on a job board or on their careers section of their company’s website
    for job seekers. Quite often, the recruiter or job poster provides specific technical
    details about the organization’s internal systems to help the job seeker to determine
    whether the position is a good fit for their career development.The following
    are the advantages of companies posting their technologies on recruitment websites:'
  prefs: []
  type: TYPE_NORMAL
- en: The potential candidate will have an idea of the environment and technologies
    they will be working with if they are successful during the interviewing process.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The potential candidate can determine whether they have the skillset required
    for the job beforehand.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'However, a threat actor can leverage the technical details found a job post
    to determine the type of operating systems, applications and versions, networking
    and security solutions are running within the company. In addition, such information
    is usually public information and OSINT which can be leveraged by adversaries
    to determine the attack surface and security vulnerabilities of the company.The
    following are the disadvantages of companies posting their technologies on recruitment
    websites:'
  prefs: []
  type: TYPE_NORMAL
- en: The company is leaking details about its technologies to the general public,
    and this information can be leveraged by a threat actor.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A hacker can determine the infrastructure, and select exploits and tools to
    perform a cyber-attack on the targeted organization.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'As a penetration tester, when recruiters reveal such information, we can easily
    create a portfolio of the targeted organization''s internal infrastructure by
    identifying the operating systems of clients and servers, the vendor of networking
    devices, and the vendor of security appliances and technologies within the company''s
    network.To get a better understanding of developing a hacker mindset as a penetration
    tester, let''s take a look at the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file166.png)'
  prefs: []
  type: TYPE_IMG
- en: 'As shown in the preceding screenshot, the recruiter listed the main qualifications
    of the ideal candidate. Let''s analyze the information provided by taking a closer
    look at the desired experience. The job poster is looking for someone who’s experienced
    in Microsoft Windows Server 2012, 2016, and 2019\. The following can be derived
    from this information:'
  prefs: []
  type: TYPE_NORMAL
- en: The hiring organization has a Microsoft Windows environment with some older
    versions of Windows Server, specifically 2012 and 2016.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There's the possibility that either the older systems or all Windows servers
    within the organization are not fully patched and contains security vulnerabilities.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The organization may not have rolled out Windows Server 2019 within their network
    yet or is planning to roll out the newer version of Windows Server soon.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The hiring company specified the vendors for their existing networking devices
    and security solutions, which are Cisco routers and switches and Fortinet firewalls.
    This gives the attacker a clear idea of the threat prevention systems that are
    in place.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The organization is also using Microsoft cloud computing services such as Azure.
    There is a likelihood that their cloud-based servers and applications are not
    secure.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: As an aspiring penetration tester, using your favorite search engine, you can
    search for known security vulnerabilities and learn how to exploit each of these
    technologies. As you have seen, the recruiter leaked too much data about the organization
    which can also be used against that same organization by threat actors for malicious
    purposes, as well as by ethical hackers and penetration testers who have been
    hired to simulate a real-world cyber-attack, help the organization identify how
    they are leaking data and the potential impact if the information is leveraged
    by a real attacker.Next, you will learn how to use a special internet search engine
    to find exposed systems from many organizations around the world.
  prefs: []
  type: TYPE_NORMAL
- en: Finding vulnerable systems using Shodan
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Shodan** is a search engine for **Internet of Things** (**IoT**), systems,
    and networks that are directly connected to the internet. Ethical hackers, penetration
    testers, and even threat actors use Shodan to identify their organization''s or
    target''s assets, and they check whether they have been publicly exposed on the
    internet. This online tool helps cybersecurity professionals quickly determine
    whether their organization''s assets have been exposed on the internet.To provide
    some additional insight, imagine that you want to determine whether your organization
    has any systems, such as servers that are accessible over the internet. These
    servers may include open service ports, vulnerable running applications, and services.
    Imagine that your organization has a legacy system running an older operating
    system that isn''t patched with the latest security updates from the vendor and
    is directly connected to the internet. A penetration tester or threat actor can
    use an online tool, such as Shodan, to discover such systems without even sending
    a probe of any kind directly from the penetration tester''s system to the target
    server, simply because Shodan detects it automatically.To get started using Shodan,
    please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Using your web browser, go to [https://www.shodan.io/](https://www.shodan.io/)
    and register for an account. You can perform searches on Shodan without an account
    but the results will be very limited.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'After creating your account, login and use the Shodan search field to enter
    some keywords such as `windows server 2008`, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file167.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, there are over 200,000 devices around
    the world which are still running the Microsoft Windows Server 2008 operating
    system that are identified using Shodan, and these systems are directly connected
    to the internet. As an ethical hacker and penetration tester, you can use Shodan
    to find exposed assets that are owned by the targeted organization to determine
    the attack surface of the company. Furthermore, once you’re able to identify the
    operating system(s) of the target, you can research known security vulnerabilities
    for these systems.
  prefs: []
  type: TYPE_NORMAL
- en: 'Clicking on any of these system will provide additional information about the
    system, such as open ports, running services, banner and locale details. The following
    screenshot shows the local information of a system:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file168.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, Shodan was able to retrieve the hostname,
    domain name, **Internet Service Provider** (**ISP**) details and its **Autonomous
    System Number** (**ASN**), and locale information. Such information helps cyber
    criminals and ethical hackers to determine the locality of the targeted organization
    during their reconnaissance phase.
  prefs: []
  type: TYPE_NORMAL
- en: 'Additionally, Shodan provides details on the open ports and their associated
    services that are running on the targeted system, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file169.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, Shodan was able to identify exposed services
    and ports on this system. Whether these ports were intentionally exposed by the
    organization, cyber criminals and ethical hackers can use this information to
    determine which services are running on the targeted system and determine whether
    there are any security vulnerabilities.
  prefs: []
  type: TYPE_NORMAL
- en: 'To learn more about service names and port numbers, please see: [https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml](https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml).'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: For instance, the system is running **Server Message Block** (**SMB**) version
    1, which is known to contain security flaws that enables an attacker to perform
    **Remote Code Execution** (**RCE**) on the targeted system. Furthermore, Shodan
    was able to enumerate a valid username for the **Remote Desktop Protocol** (**RDP**)
    service that’s running on the device. Such details helps the ethical hacker and
    penetration tester to improve their attack and future operations for gaining access
    on the target.
  prefs: []
  type: TYPE_NORMAL
- en: As an aspiring ethical hacker and penetration tester, ports are open on a system
    to allow ingress and egress traffic. Identifying open ports helps you to determine
    the entry-points on a targeted system.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Additionally, if Shodan detects any known security vulnerabilities on the system
    it will provide the details as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file170.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, Shodan provides a list of known security
    vulnerabilities with a brief description and their associated **Common Vulnerabilities
    and Exposure** (**CVE**) numbers.
  prefs: []
  type: TYPE_NORMAL
- en: The CVE database allows cybersecurity professionals and researchers to report
    and track security vulnerabilities at [https://cve.mitre.org/](https://cve.mitre.org/).
    Furthermore, cybersecurity professionals use the CVE details to create **Cyber
    Threat Intelligence** (**CTI**) to improve their cyber defenses and mitigate new
    and emerging threats.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: As shown in the preceding steps, ethical hackers and penetration testers can
    leverage the search algorithm of Shodan to passively collect information to identify
    the attack surface of their targets. Shodan can help you gather OSINT data without
    having to directly engage a target. In the next section, you will discover how
    to use another well-known tool within the industry to gather in-depth intelligence
    on systems on the internet.
  prefs: []
  type: TYPE_NORMAL
- en: Discovering exposed systems with Censys
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Censys** is another internet search engine which helps cybersecurity professionals
    and researchers to collect and analyze information about internet-facing systems
    and identity their attack surface to better understand how a cyber-criminal leverages
    public information about such as the domain names, IP addresses and digital certificates
    that as associated to a targeted organization.To get started working with Censys,
    please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Firstly, go to [https://search.censys.io/](https://search.censys.io/) and register
    for a free user account on the platform:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file171.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After registering for an account, login and use the **Search** field to enter
    the name, IP address or domain name of your targeted organization and click on
    **Search** to perform a lookup, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file172.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, a lookup was performed on Cloudflare’s
    **Domain Name Server** (**DNS**) address. The results shows information about
    the network and IP addressing, running services and open ports on the server,
    and the geo-location of the server. Such information is useful when trying to
    find the geo-location or locale data for a targeted organization.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the **Explore** tab provides additional such as association to domain
    names, IPv4 and IPv6 addresses, and other assets owned by the organization, as
    shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file173.png)'
  prefs: []
  type: TYPE_IMG
- en: The **History** tab allows you to view the change which occurred on the targeted
    system. Understand what has changed helps ethical hackers and penetration tester
    to determine if there’s a vulnerability within an application or configuration.
    For instance, installing a new plugin on a web application can introduce new security
    vulnerabilities which can be exploited by a threat actor.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The **WHOIS** table provides the domain registration details and contact information
    about the owner of the domain. Sometimes, a domain owner does not pay an additional
    fee during the domain registration process to conceal their personal information.
    It’s common for threat actors and ethical hackers to identify the domain registration
    details to determine the owner’s contact detail and geo-location of the organization.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using the information gathered from Censys, ethical hackers and penetration
    testers can create a profile of systems that are publicly available through the
    internet and their open ports. Such information can be leveraged to research security
    vulnerabilities and techniques to compromise those systems. In the next section,
    you will learn how to automate passive reconnaissance techniques and acquiring
    OSINT data.
  prefs: []
  type: TYPE_NORMAL
- en: Mapping external systems using Maltego
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Maltego** is a graphical open source intelligence tool that was created maintained
    by Maltego Technologies. This tool helps ethical hackers and penetration testers
    collect intelligence on a targeted organization''s infrastructure by using a graphical
    interactive data mining application. This application provides the ability to
    query and gather information from multiple data sources on the internet and present
    data in easy-to-understand graphs. These graphs provide visualizations of the
    relationships between each entity and the target, therefore helps penetration
    testers to identify the external attack surface or a targeted system, network
    and organization.To get started with using Maltego for data harvesting, please
    use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Go to [https://www.maltego.com/ce-registration/](https://www.maltego.com/ce-registration/)
    to register for a free Community Edition (CE) user account for the Maltego application.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, power-on the **Kali Linux** virtual machine and log-in.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On the **Kali Linux** desktop, open the **Terminal** and use the following
    commands to update the local package repository list and install Maltego:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, click the Kali Linux icon (top-left corner) to expand the applications
    menu, select **01 – Information Gathering** > **OSINT Analysis** > **maltego**,
    as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file174.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, the Maltego **Product Selection** window will appear, select **Maltego
    CE** (**Free**) > **Run** to launch the community edition, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file175.png)'
  prefs: []
  type: TYPE_IMG
- en: Next, the **Configure Maltego – License** Agreement windows will appear, accept
    the license agreement and click on **Next**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, the **Configure Maltego – Login** window appears, ensure your user credentials
    that were created during step 1, and click on **Next** to continue.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click **Next** on the **Login Results**, **Install Transforms**, **Help Improve
    Maltego**, **Web Browser Options**, **Privacy Mode Options** and **Ready** windows.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To start gathering information on a targeted organization, open a new graph.
    To do this, click on the **Maltego icon** (top-left corner), and then click on
    **New**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file176.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, once a new graph is created, you'll see
    various types of entities on the left pane, while on the right side, you'll see
    **Overview**, **Detail View**, and **Property View** panes.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to start collecting infrastructure information about a targeted organization,
    from the **Entity Palette** section, drag and drop the **Domain** entity onto
    the middle of the graph pane, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file177.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, double-click on the **Domain** entity on the graph pane to open the **Details**
    window, enter an organization’s domain name within the **Domain Name** field and
    click on **OK** as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file178.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To retrieve the target’s public DNS records, right-click on the **Domain**
    entity on the graph pane and select **All Transforms** > **To DNS Name – NS**
    (**name server**), as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file179.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once the transform executes and retrieved data, Maltego populates the graph
    pane to show the Name Servers of the target. as shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file180.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To retrieve the **Mail Exchange** (**MX**) records to identify a target’s email
    servers, right-click on the **Domain** entity | select **All Transforms** | **To
    DNS Name – MX** (**mail server**), as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file181.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once Maltego retrieves the MX records from public DNS servers, the graph pane
    is updated to show the email server(s) of the targeted organization:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file182.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To retrieve the public IP address of the name servers or email servers, right-click
    on one of the entities on the graph pane | select **All Transforms** | **To IP
    Address** [**DNS**], as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file183.png)'
  prefs: []
  type: TYPE_IMG
- en: Next, to discover if there’s a website that’s associated to the targeted domain,
    right-click on the **Domain** entity | select **All Transforms** | **To Website**
    [**Quick lookup**].
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To retrieve the public IP address(es) that are associated to the website address,
    right-click on the **Website** entity | select **All Transforms** | **To IP Address**
    [**DNS**], as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file184.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To retrieve a list of publicly known email addresses which as associated to
    the targeted domain, right-click on the **Domain** entity | select **All Transforms**
    | **To Email addresses** [**PGP**], as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file185.png)'
  prefs: []
  type: TYPE_IMG
- en: Lastly, you can save the information collected by Maltego by clicking on the
    Maltego icon on the left-corner and selecting the **Save** option.The relation-mapping
    feature on Maltego helps you analyze information and understand how one component
    is connected to another. Using the information that's been collected from Maltego,
    you can determine publicly available servers, IP addresses, employees' email addresses,
    linked URLs on web pages, and more. As you have seen, using a tool such as Maltego
    can help automate the process of gathering various types of OSINT data from multiple
    data sources on the internet, this helps ethical hackers and penetration tester
    to reducing spent during the reconnaissance phase. Next, you will learn how to
    use Netcraft to identify the external attack surface, assets and technologies
    of a targeted organization.
  prefs: []
  type: TYPE_NORMAL
- en: Identifying infrastructure with Netcraft
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Netcraft enables ethical hackers and penetration testers to collected OSINT
    on a targeted organization to better understand the technologies, operating systems,
    applications and locations of their internet-facing devices. Netcraft provides
    the following data types:'
  prefs: []
  type: TYPE_NORMAL
- en: Network and IP information
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IP geolocation information
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Website technologies and applications
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To get started using Netcraft to profile a targeted organization/domain, please
    use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Using a standard web browser, go to [https://sitereport.netcraft.com/](https://sitereport.netcraft.com/),
    then enter a targeted domain name within the domain field and click on **Look
    UP**, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file186.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After a few seconds, Netcraft will automatically display all information it
    knows about the targeted domain and its technologies, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file187.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, ethical hackers and penetration testers
    to use the information to determine the owner of the domain name, the name servers,
    hosting company and public addresses of the target.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to determine the geolocation of the targeted organization, scroll-down
    to the **SSL**/**TLS** section, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file188.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, Netcraft was able to collect and analyzed
    the information found within the digital certificate for the targeted domain,
    and provides the organization, state and country. Such information is useful for
    ethical hackers when planning a physical penetration test. In addition, the **Subject
    Alternative Name** field provide additional sub-domains which are permitted to
    use this digital certificate, this data helps penetration testers to identify
    additional assets that are owned by the target.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the **Site Technology** section provides valuable information such as
    identifying the server-side and client-side technologies, this information is
    useful when planning a web application penetration test, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file189.png)'
  prefs: []
  type: TYPE_IMG
- en: Having completed this exercise, you have gained the skills on how ethical hackers
    are able to leverage Netcraft to identify the public infrastructure of a targeted
    organization. Next, you will learn how to use Recon-ng to automate data collection
    and analysis as an ethical hacker.
  prefs: []
  type: TYPE_NORMAL
- en: Using Recon-ng for data harvesting
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Recon-ng** is an OSINT reconnaissance framework written in Python. The tool
    itself contains a lot of modules for additional capabilities, a database for storing
    OSINT, interactive help, and a menu system, similar to Metasploit. Recon-ng can
    perform web-based, information-gathering techniques to collect OSINT from multiple
    online data sources, and it''s one of the must-have tools for any aspiring ethical
    hacker or penetration tester to have within their arsenal.To get started using
    recon-ng for data harvesting, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Power-on the **Kali Linux** virtual machine and execute the following command
    within the **Terminal** to start Recon-ng:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'Recon-ng uses various modules which are designed to collect and analyze data
    from multiple data sources. By default, there are no modules pre-installed on
    Recon-ng, therefore use the following commands to install all modules from the
    Recon-ng marketplace:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshot shows Recon-ng is downloading and setting up the modules:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file190.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After the modules are installed, Recon-ng will automatically reload the newly
    installed modules and there will be a lot of warning messages that are written
    in red, as shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file191.png)'
  prefs: []
  type: TYPE_IMG
- en: The preceding screenshot shows there are various Recon-ng modules which requires
    an **Application Programming Interface** (**API**) key to allow Recon-ng to retrieve
    OSINT from the data source.
  prefs: []
  type: TYPE_NORMAL
- en: The `modules search` command is used to display all current modules with Recon-ng
    and their categories, such as Discovery, Exploitation, Import, Recon and Reporting.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Next, to view a list of supported API keys on Recon-ng, use the following commands:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: 'As shown in the following screenshot, the key list commands allows us to view
    which API keys are supported and whether there’s already an API in-use:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file192.png)'
  prefs: []
  type: TYPE_IMG
- en: Next, to get a supported API key, simply go to the data source such as **BuiltWith**
    at [https://builtwith.com/](https://builtwith.com/) and create a free user account.
    Once account is created, login and go to **Tools** > **API Access** to find the
    API key. Feel free to acquire as many API keys for each supported modules from
    the list of supported APIs.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Consider getting an API key from the following data sources:'
  prefs: []
  type: TYPE_NORMAL
- en: Hunter - [https://hunter.io](https://hunter.io)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Censys - [https://search.censys.io](https://search.censys.io)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: VirusTotal - [https://www.virustotal.com](https://www.virustotal.com)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Shodan - [https://www.shodan.io/](https://www.shodan.io/)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Once you’ve acquired your API keys, the next step it to add each API to their
    API-supported modules. Use the `keys add <API-module-name> <API key value>` command.
    For instance, the following commands are used to add an API key for the `builtwith_api`,
    as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: 'After adding your API keys, use the `keys list` command to verify whether the
    keys were added successfully, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file193.png)'
  prefs: []
  type: TYPE_IMG
- en: 'As an ethical hacker and penetration tester, you may be working on multiple
    projects at a time, Recon-ng enables you to create multiple, virtual workspaces
    to help you better manage the collection and analysis of data. To create a new
    workspace, use the following commands:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: Once a new workspace is created, Recon-ng will automatically move your working
    environment from `default` to your new workspace. To view a list of available
    workspaces within Recon-ng, use the `workspaces list` command. Additionally, the
    `workspaces load <workspace-name>` command allows you to select and work within
    a specific workspace, while the `workspaces remove <workspace-name>` command removes
    a workspace from Recon-ng.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Next, the `modules search <keyword>` commands enables you to search for specific
    modules based on a keyword. For instance, use the `modules search whois` command
    to view all Recon-ng modules which contains the `whois` keyword, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file194.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, to use a specific module within Recon-ng, use the `modules load <module-name>`
    command. For instance, to gather a list of **point-of-contacts** (**POCS**) for
    a targeted domain on the internet, use the following commands:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: 'As shown in the following screenshot, the info command prints the description
    and required options for the selected module:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file195.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To set the required options for the module, use the following commands to set
    `microsoft.com` as the **SOURCE** for our targeted domain:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: To unset a value within a module, use the `options unset <parameter/value>`
    command. Ensure that you execute the `info` command afterwards to verify the value
    is unset/removed.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Next, use the `run` command to execute the module, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file196.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, use the `back` command to exit a module and `modules search bing` command
    to for modules that can leverage the Bing search engine, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file197.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, use the following command to load the `bing_domain_web` module, display
    its information, set the targeted domain and execute the module:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: 'Use the `show hosts` command to view a list of sub-domains and hostnames that
    were collected about the target, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file198.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, use the `show contacts` command to view a list of contact information
    that was collected, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file199.png)'
  prefs: []
  type: TYPE_IMG
- en: The show command can be used with show [`companies`] [`credentials`] [`hosts`]
    [`locations`] [`ports`] [`pushpins`] [`vulnerabilities`] [`contacts`] [`domains`]
    [`leaks`] [`netblocks`] [`profiles`] [`repositories`] to view specific information
    that was obtained by Recon-ng. Additionally, the `dashboard` command provides
    a summary of all activites in Recon-ng such as showing the number of times a module
    was executed and how much data was collected.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'To view a summary of your activities within the `myfirstproject` workspace,
    use the `dashboard` command, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file200.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, collecting all the data can overwhelming to process and analyzed, however
    Recon-ng has various reporting modules to help us. Use the `modules search report`
    command to view a list of all reporting modules, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file201.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To generate an HTML-format report, use the following commands to set the required
    parameters and specify the output location for the final report:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshot shows the how to preceding commands were applied on
    the module:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file202.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To view the report, simply go to the output directory such as `/home/kali/Desktop`
    and open the report HTML file using the web browser, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file203.png)'
  prefs: []
  type: TYPE_IMG
- en: This report provides a very easy-to-understand summary of all the data that
    was collected using Recon-ng. The reporting module plays an excellent role in
    helping ethical hackers to correlate data about their target during the reconnaissance
    phase.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to access the web interface of Recon-ng, use the following command on
    a new Terminal:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: 'Once the workspace has been initialized, open the web browser within Kali Linux
    and go to `http://127.0.0.1:5000/`, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file204.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, ethical hackers and penetration testers
    can improve their data collection and analysis using the web interface of Recon-ng.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To learn more about Recon-ng and its features, please visit the official GitHub
    repository at: [https://github.com/lanmaster53/recon-ng](https://github.com/lanmaster53/recon-ng).'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Having completed this exercise, you’ve learnt how to leverage Recon-ng to efficiently
    collect and analysis OSINT from multiple data sources. Next, you will learn how
    to use theHarvester for data harvesting.
  prefs: []
  type: TYPE_NORMAL
- en: Data collection with theHarvester
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Using a tool such as **theHarvester** enables to you efficiently collect OSINT
    to identify sub-domains and additional exposed assets of a targeted organization.
    To get started using theHarvester for data collection, please use the following
    instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, power-on the **Kali Linux** virtual machine and ensure it has internet
    connectivity.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, open the **Terminal** and use the following command to display the menu
    for theHarvester:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: The preceding command displays the help menu and provides a list of various
    syntax and how they can be used to retrieve OSINT from online sources. In addition,
    the help menu provides a list of various data sources using the `-b` command.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to retrieve a list of sub-domains of a targeted domain, use the following
    commands:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: 'The following screenshot shows theHarvester was able to collect multiple sub-domains
    for the targeted domain:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file205.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To learn more about the features of theHarvester, please visit the official
    GitHub repository at: [https://github.com/laramies/theHarvester](https://github.com/laramies/theHarvester).
    Some sources require an API key to retrieve data from the online database, to
    learn more how to add an API key to theHarvester, please see: [https://github.com/laramies/theHarvester/wiki/Installation#api-keys](https://github.com/laramies/theHarvester/wiki/Installation#api-keys).'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Having completed this section, you have gained the skills needed to collect
    OSINT information on targeted organizations to identify how they are leaking data
    such as their internal infrastructure to anyone on the internet. In the next section,
    you will learn how to gather employee OSINT.
  prefs: []
  type: TYPE_NORMAL
- en: Harvesting employees’ data
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Around the world, employees of many organizations commonly leak and share too
    much information about themselves and their organization without realizing how
    a threat actor or adversary can collect and analyze such information to plan a
    cyber-attack or improve a threat towards their organizations and themselves. Quite
    often, you’ll notice that many employees of the leadership team for an organization
    commonly share their contact details on professional social networking platforms,
    such as the following types of the information:'
  prefs: []
  type: TYPE_NORMAL
- en: Full name and job title
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Company’s email address
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Telephone number
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Roles and responsibilities
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Recent projects with technical details
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pictures of their employee badges
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: As a penetration tester, it's quite simple to create an account that will function
    as a sock puppet on a site such as LinkedIn, populate some false information on
    the account, such as information stating you're an employee who is working at
    another branch office, and then add some low-level employees from the targeted
    organization as connections. Therefore, other employees of the targeted organization
    will notice your sock puppet profile has mutual connections and may reduce suspicions.There’s
    a possibility the employees will automatically accept the connection/friend request
    because they will see that you're a fellow employee at their company. This will
    provide some leverage for you to connect with the high-profile employees of the
    targeted organization and enabling you collect contact details to plan various
    social engineering attacks and identify your targets.
  prefs: []
  type: TYPE_NORMAL
- en: Working with Hunter
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Hunter is an online data source that harvests both employee and organizational
    data from public sources on the internet. As an ethical hacker and penetration
    tester, this is a must-have resource for gathering employees'' names, telephone
    numbers, email addresses, and even their job titles when planning a social engineering
    attack.To get started using this tool, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, you’ll need to register for a free account at [https://hunter.io/](https://hunter.io/)
    and complete the registration process.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once the registration process is completed, log-in to online platform using
    your user credentials.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, you’ll be presented with the **Domain Search** field, simply enter a
    targeted domain, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file206.png)'
  prefs: []
  type: TYPE_IMG
- en: 'While entering a domain within the **Domain Search** field, Hunter will provide
    suggestions for your search, I’ve used `microsoft.com` as an example, as shown
    below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](../media/file207.png)'
  prefs: []
  type: TYPE_IMG
- en: As shown in the preceding screenshot, Hunter can provide a list of employees'
    information, such as their names, email addresses, telephone numbers, and other
    sources of information. In addition, collecting email addresses for a targeted
    organizations helps you to determine the format of employees’ email addresses.
    Therefore, if an adversary or ethical hacker knows the names of employees, then
    it’s a bit easy to guess the email addresses of various employees, this information
    is useful when planning social engineering, password spraying and credential stuffing
    attacks.
  prefs: []
  type: TYPE_NORMAL
- en: To learn more about password spraying and credential stuffing attacks, please
    see [https://attack.mitre.org/techniques/T1110/003/](https://attack.mitre.org/techniques/T1110/003/)
    and [https://attack.mitre.org/techniques/T1110/004/](https://attack.mitre.org/techniques/T1110/004/).
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'The following screenshot shows all the sources that Hunter used to collect
    the data for a specific person:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file208.png)'
  prefs: []
  type: TYPE_IMG
- en: While employees will provide their contact details on various online platforms,
    including their company's website, such information can be leveraged by a threat
    actor and a penetration tester to perform social engineering attacks against the
    organization.
  prefs: []
  type: TYPE_NORMAL
- en: Social media reconnaissance
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Employees of an organization often leak too much information about themselves
    and their company. While many employees are very happy to be working in their
    organizations, sometimes, they share information that can be leveraged by threat
    actors to improve their attack on a target. As an aspiring ethical hacker and
    penetration tester, collecting and analyzing information from social media platforms
    can be useful in finding unsecure employee profiles with weak privacy and collecting
    any sensitive data from their profiles.The following is some information that''s
    commonly leaked:'
  prefs: []
  type: TYPE_NORMAL
- en: Employee contact information, such as telephone numbers and email addresses,
    which can be used during social engineering and account takeover attacks.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sharing photos with their employee badges, which can be used by a threat actor
    to create a fake ID for impersonation for physical penetration testing.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pictures of an employee's computing systems and desktop, which can inform a
    threat actor about the available device vendors and operating systems.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Projects that have been completed by the employee may contain specific technical
    details, which can allow a threat actor to profile the internal network infrastructure.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: These are just some of the many types of information that are commonly posted
    on social media platforms such as LinkedIn. As a penetration tester, you can create
    a sock puppet, impersonate someone on social media, and trick the employees of
    the targeted organization into performing an action or revealing sensitive information
    (social engineering). Furthermore, imagine performing a physical penetration test,
    where you can print a fake employee ID badge and dress like a typical employee
    by using the information found on the targeted organization's social media page.
    Over the next few sub-sections, you will learn how to perform social media reconnaissance.
  prefs: []
  type: TYPE_NORMAL
- en: Automating with Sherlock
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Sherlock** is an OSINT tool that helps penetration testers quickly determine
    whether their target has any social media accounts and which platforms the accounts
    may exist on. This tool supports over 200 social media websites, automates the
    process of checking each site, and generates a report of the results.To get started
    using Sherlock for social media reconnaissance, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Power-on the **Kali Linux** virtual machine, open the **Terminal** and use
    the following commands to download **Sherlock** from its official GitHub repository:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, use the following commands to install the requirements for Sherlock:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, to search for a targeted organization social media presence on the internet,
    use the `python3 sherlock <username>` command, as shown below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs: []
  type: TYPE_PRE
- en: 'Notice the `--timeout` command was used to instruct Sherlock to not spend more
    than 5 seconds on any of the social media sites, as shown here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file209.png)'
  prefs: []
  type: TYPE_IMG
- en: 'When Sherlock completes the task, the results will be stored into a text file
    within the present working directory, as shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../media/file210.png)'
  prefs: []
  type: TYPE_IMG
- en: Be sure to check each site within the output file to ensure it is valid and
    provides meaningful information about your target. A penetration tester can use
    the information that's been collected to easily identify the social media accounts
    owned by a targeted organization or user. Such information can be also used to
    gather further intelligence of the target.Having completed this section, you have
    learnt how to automate the data collection process of finding user accounts for
    a targeted organization or person using Sherlock.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: During this chapter, you have learnt how to apply various Google hacking techniques
    to perform advanced search and filtering to identify sensitive directories and
    exposed resources on the internet. In addition, you have gained the hands-on skills
    needed to perform domain reconnaissance to collect and analyze DNS records, perform
    zone transfer and identify sub-domains of a target. Furthermore, you have learned
    how to leverage specialized internet search engines to identify exposed assets
    of companies around the world, and gained a better understanding on how OSINT
    helps ethical hackers and penetration testers to develop a profile about their
    targets.I trust that the knowledge presented in this chapter has provided you
    with valuable insights, supporting your path towards becoming an ethical hacker
    and penetration tester in the dynamic field of cybersecurity. May this newfound
    understanding empower you in your journey, allowing you to navigate the industry
    with confidence and make a significant impact. In the next chapter, *Exploring
    Active Reconnaissance*, you will learn how to perform active reconnaissance techniques
    to identify live systems, open ports and running services.
  prefs: []
  type: TYPE_NORMAL
- en: Further Reading
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Open source intelligence - [https://www.imperva.com/learn/application-security/open-source-intelligence-osint/](https://www.imperva.com/learn/application-security/open-source-intelligence-osint/)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Top OSINT tools - [https://www.csoonline.com/article/567859/what-is-osint-top-open-source-intelligence-tools.html](https://www.csoonline.com/article/567859/what-is-osint-top-open-source-intelligence-tools.html)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What is Whois - [https://www.domaintools.com/support/what-is-whois-information-and-why-is-it-valuable/](https://www.domaintools.com/support/what-is-whois-information-and-why-is-it-valuable/)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
